<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tips And Tricks That I use in my demos and presentation with Docker | gamov.io</title><meta name="author" content="Viktor Gamov"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@asciidoctor"><meta name="twitter:url" content="http://gamov.io/posts/2018/11/28/tips-and-tricks-that-i-use-in-my-demos-and-presentation-with-docker.html"><meta name="twitter:title" content="Tips And Tricks That I use in my demos and presentation with Docker"><meta name="twitter:description" content="Table of Contents
Delete every Docker containers
Open shell in running container
Extra carriculum matterial: How to do the same in case of Docker Compose?
Figure 1. A very..."><link rel="stylesheet" href="/stylesheets/app.css"><script src="/javascripts/vendor/custom.modernizr.js"></script><link rel="shortcut icon" href="/images/favicon.ico"><link rel="author" href="/humans.txt"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"></head><body class="antialiased"><nav class="top-bar"><ul class="title-area"><li class="name"><h1><a href="/">Viktor Gamov</a></h1></li></ul><section class="top-bar-section"><ul class="right"><li class="divider"></li><li><a href="/posts.html"><span class="icon"><i class="fa fa-th-large"></i></span>&nbspBlog</a></li><li class="divider"></li><li><a href="http://github.com/gamussa" target="_blank"><span class="icon"><i class="fa fa-github"></i></span>&nbspGithub</a></li><li class="divider"></li><li><a href="http://twitter.com/gamussa" target="_blank"><span class="icon"><i class="fa fa-twitter"></i></span>&nbspTwitter</a></li><li class="divider"></li><li><a href="https://www.youtube.com/playlist?list=PLaJqps0DAycqu2OV6sjl_Dm_VymB6KDV_" target="_blank"><span class="icon"><i class="fa fa-youtube"></i></span>&nbspMy Talks</a></li><li class="divider"></li><li><a href="https://speakerdeck.com/vikgamov" target="_blank"><span class="icon"><i class="fa fa-slideshare"></i></span>&nbspMy Slides</a></li><li class="divider"></li><li class="has-form"><a class="small button" href="http://enterprisewebbook.com">Enterprise Web Development</a></li></ul></section></nav><div class="row"><div class="large-12 column"><h1 class="header"><a href="http://gamov.io">Crash Course In Java Brain Surgery</a></h1><h6 class="subheader">insinuation and speculations: My thoughts about Java, HTML5, software development and IT in general</h6><hr></div></div><!--Main Page Content--><div class="row"><div id="content"><!--Main Blog Content--><div class="large-12 columns" role="content"></div><article><h2 class="header"><a href="/posts/2018/11/28/tips-and-tricks-that-i-use-in-my-demos-and-presentation-with-docker.html">Tips And Tricks That I use in my demos and presentation with Docker</a></h2><h5 class="subheader">Written by&nbsp <a href="#">Viktor Gamov</a>&nbsp- <time class="pubdate" datetime="2018-11-28T18:00:00+00:00">Wednesday, November 28, 2018</time></h5><div class="row"><div class="large-12 columns text-left"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#delete-every-docker-containers">Delete every Docker containers</a></li>
<li><a href="#open-shell-in-running-container">Open shell in running container</a>
<ul class="sectlevel2">
<li><a href="#extra-carriculum-matterial-how-to-do-the-same-in-case-of-docker-compose">Extra carriculum matterial: How to do the same in case of Docker Compose?</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="/images/me_presenting.jpg" alt="me presenting" width="50%">
</div>
<div class="title">Figure 1. A very small tip for you!</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">TLDR</div>
the Sole purpose of this post is to help me to return here time to time if I forget some of the commands.
If this would be useful for anyone - praise me on twitter - <a href="http://twitter.com/gamussa" class="bare">http://twitter.com/gamussa</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s start with small but important thing - how to erase everything Docker and start clean.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="delete-every-docker-containers"><a class="anchor" href="#delete-every-docker-containers"></a>Delete every Docker containers</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Don&#8217;t do this if you&#8217;re on the plane.
Downloading new images using airline&#8217;s wifi will be the pain.
Proceed with caution.
You have been warned.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>How many time you have found yourself running out of space in your laptop, and you don&#8217;t know who&#8217;s eating all the space.
Usual suspects here are maven or gradle directory jar&#8217;s directory and  Docker images directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-sh" data-lang="sh">❯ du -sh ~/.m2
2.4G    /Users/viktor/.m2 <i class="conum" data-value="1"></i><b>(1)</b>

❯ du -sh ~/.gradle
2.8G    /Users/viktor/.gradle <i class="conum" data-value="2"></i><b>(2)</b>

❯ du -sh ~/Library/Containers/com.docker.docker/Data/com.docker.driver.amd64-linux/Docker.raw
8.1G    /Users/viktor/Library/Containers/com.docker.docker/Data/com.docker.driver.amd64-linux/Docker.raw</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Should I nuke it?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>I definitely use Gradle more</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Must be run first because images are attached to containers</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-sh" data-lang="sh">docker rm -f $(docker ps -a -q)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete every Docker image</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-sh" data-lang="sh">docker rmi -f $(docker images -q)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="open-shell-in-running-container"><a class="anchor" href="#open-shell-in-running-container"></a>Open shell in running container</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If I have a container that already running I can use <code>docker exec</code> command to connect to it!</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, get the name of the existing container using <code>docker ps</code></p>
</li>
<li>
<p>With <code>docker exec -it &lt;container name&gt; /bin/bash</code> to get a bash shell in the container</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Essentially, use <code>docker exec -it &lt;container name&gt; &lt;command&gt;</code> to execute whatever command you specify in the container.</p>
</div>
<div class="sect2">
<h3 id="extra-carriculum-matterial-how-to-do-the-same-in-case-of-docker-compose"><a class="anchor" href="#extra-carriculum-matterial-how-to-do-the-same-in-case-of-docker-compose"></a>Extra carriculum matterial: How to do the same in case of Docker Compose?</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-bash" data-lang="bash">`docker-compose run &lt;container_name_in_yml_file&gt; &lt;command&gt;`.</code></pre>
</div>
</div>
<div class="paragraph">
<p>E.g. to get a shell into your kafka container, you might run <code>docker-compose run kafka1 /bin/bash</code></p>
</div>
<div class="listingblock">
<div class="title">To run a series of commands, you must wrap them in a single command using a shell</div>
<div class="content">
<pre class="highlight nowrap"><code class="language-sh" data-lang="sh">`docker-compose run  &lt;name in yml&gt; sh -c '&lt;command 1&gt; &amp;&amp; &lt;command 2&gt; &amp;&amp; &lt;command 3&gt;'`</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>docker run</code> command accepts command line options to specify volume mounts, environment variables, the working directory, and more.</p>
</div>
</div>
</div>
</div></div></div><footer class="entry-footer"><div class="tags"><span class="title">tags: </span></div></footer><div id="comments">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
            var disqus_shortname = 'nextjavaheadbraincom';
            var disqus_url = "http://gamov.io/posts/2018/11/28/tips-and-tricks-that-i-use-in-my-demos-and-presentation-with-docker.html";
            var disqus_developer = null;
            var disqus_identifier = null;
            (function() {
              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=nextjavaheadbraincom">comments powered by Disqus.</a></noscript>
          </div></article></div></div></body></html><div id="copyright"><div class="row full-width"><div class="large-4 columns"><p>© Viktor Gamov 2019—2007</p></div><div class="large-8 columns"><ul class="inline-list right"><li><a href="https://github.com/gAmUssA"></a>Github&nbsp<span class="icon"><i class="fa fa-github"></i></span></li><li><a href="http://twitter.com/gAmUssA"></a>Twitter&nbsp<span class="icon"><i class="fa fa-twitter"></i></span></li><li><a href="#"></a></li></ul></div></div></div><script>document.write('<script src=' + ('__proto__' in {} ? '/javascripts/vendor/zepto' : '/javascripts/vendor/jquery') + '.js><\/script>')</script><script src="/javascripts/foundation/foundation.js"><script src="/javascripts/foundation/foundation.topbar.js"></script></script><script>$(document).foundation();</script><script src="/javascripts/vendor/highlight.min.js"></script><script>$(hljs.initHighlighting());</script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount','UA-40354726-1']);
_gaq.push(['_trackPageview']);
(function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<!--End Footer-->